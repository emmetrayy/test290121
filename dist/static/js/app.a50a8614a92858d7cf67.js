webpackJsonp([1],{"4zPY":function(e,t){},"62wq":function(e,t){},"BR/g":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),a=n("/ocq"),i=n("mtWM"),s=n.n(i),l={name:"Register",methods:{register:function(e){e.preventDefault();var t=e.target.elements.username.value,n=e.target.elements.email.value,o=e.target.elements.password.value,a=function(){var e={username:t,email:n,password:o};s.a.post("/api/register",e).then(function(t){console.log(e),console.log("Registered"),I.push("/login")}).catch(function(e){console.log("Cannot register")})};a()}}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h2",[this._v("Register")]),this._v(" "),t("form",{on:{submit:this.register}},[t("input",{attrs:{type:"text",name:"username",placeholder:"username"}}),t("br"),this._v(" "),t("input",{attrs:{type:"text",name:"email",placeholder:"email"}}),t("br"),this._v(" "),t("input",{attrs:{type:"text",name:"password",placeholder:"password"}}),t("br"),this._v(" "),t("input",{attrs:{type:"submit",value:"Register"}})])])},staticRenderFns:[]},c=n("VU/8")(l,r,!1,null,null,null).exports,u=new o.a,d=n("VU/8")(u,null,!1,null,null,null).exports,m={name:"Login",data:function(){return{userName:"",passWord:""}},methods:{login:function(e){var t=this;console.log(this.userName),e.preventDefault();var n=this.userName,o=this.passWord,a=function(){var e={username:n,password:o};s.a.post("/api/login",e).then(function(e){t.emitLoggedInMethod(),console.log("Logged in"),I.push("/profile")}).catch(function(e){console.log("Cannot log in"),console.log(e)})};a()},emitLoggedInMethod:function(){console.log("emit method"),d.$emit("logged-in","loggedin")}}},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",[e._v("Login")]),e._v(" "),n("form",{on:{submit:e.login}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],attrs:{type:"text",name:"username",placeholder:"username"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}}),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.passWord,expression:"passWord"}],attrs:{type:"text",name:"password",placeholder:"password"},domProps:{value:e.passWord},on:{input:function(t){t.target.composing||(e.passWord=t.target.value)}}}),n("br"),e._v(" "),n("input",{attrs:{type:"submit",value:"Login"}})])])},staticRenderFns:[]};var v=n("VU/8")(m,h,!1,function(e){n("Qdwh")},null,null).exports,p={name:"Login",data:function(){return{user:{id:"",username:"",email:"",password:"",mode:"",channel:{radioname:"please select",radiourl:"blabla"},alternativechannel:{radioname:"please select",radiourl:"blabla"},shmoo:["",""]},modes:["alternativeChannel","alternativePlaylist"],radiochannels:[{radioname:"",radiocountry:""}],countrylist:["AUT","GER","CZE","POL","LIT","LAT","EST","ITA","FRA","AUS","NOR"],isHovering:!1,showeditemail:!1,showeditmode:!1,showeditmainchannel:!1,showeditalternativechannel:!1,selectedchannel:"unselected",selectedalternativechannel:"",selectedcountry:"",selectedcountryalternative:"",filteredchannels:[],filteredalternativechannels:[]}},methods:{emitLoggedInMethod:function(){setTimeout(function(){console.log("emit method"),d.$emit("logged-in","loggedin")},1e3)},getUserData:function(){var e=this,t=this;s.a.get("/api/user").then(function(n){console.log(n),t.$set(e,"user",n.data.user)}).catch(function(e){console.log(e),I.push("/login")})},getRadioData:function(){var e=this,t=this,n=this;s.a.get("/api/radiodata").then(function(o){t.$set(e,"radiodata",o.data.radiodata),n.radiochannels=o.data.radiodata}).catch(function(e){console.log(e),I.push("/login")})},editEmail:function(e){e.preventDefault();var t,n=e.target.elements.email.value;t={newEmail:n},s.a.post("/api/emailchange",t).then(function(e){console.log(t),console.log("inside emailchange frontend"),I.push("/profile")}).catch(function(e){console.log("Cannot change email")}),setTimeout(function(){location.reload()},1e3)},editMode:function(){console.log(this.user.mode);var e,t=this.user.mode;e={selectedMode:t},s.a.post("api/modeselection",e).then(function(t){console.log(e),console.log("inside modeselection frontend"),I.push("/profile")}).catch(function(e){console.log("Cannot save modeselection")});var n=this;setTimeout(function(){n.reloadPage()},1e3)},filteredChannels:function(){var e;for(this.filteredchannels=[],e=0;e<this.radiochannels.length;e++){var t=this.radiochannels[e];t.radiocountry==this.selectedcountry&&(console.log(t.radioname),this.filteredchannels.push(t.radioname))}},selectChannel:function(e,t){this.selectedchannel=t,console.log(this.selectedchannel),this.user.channel=t,this.changeChannel()},changeChannel:function(){console.log(this.user.channel);var e,t=this.user.channel;e={selectedChannel:t},s.a.post("api/channelselection",e).then(function(t){console.log(e),console.log("inside channelselection frontend"),I.push("/profile")}).catch(function(e){console.log("Cannot save channelselection")});var n=this;setTimeout(function(){n.reloadPage()},1e3)},filteredAlternativeChannels:function(){var e;for(this.filteredalternativechannels=[],e=0;e<this.radiochannels.length;e++){var t=this.radiochannels[e];t.radiocountry==this.selectedcountryalternative&&(console.log(t.radioname),this.filteredalternativechannels.push(t.radioname))}},selectAlternativeChannel:function(e,t){this.selectedalternativechannel=t,console.log(this.selectedalternativechannel),this.user.alternativechannel=t,this.changeAlternativeChannel()},changeAlternativeChannel:function(){console.log(this.user.alternativechannel);var e,t=this.user.alternativechannel;e={selectedAlternativeChannel:t},s.a.post("api/alternativechannelselection",e).then(function(t){console.log(e),console.log("inside alternative channelselection frontend"),I.push("/profile")}).catch(function(e){console.log("Cannot save channelselection")});var n=this;setTimeout(function(){n.reloadPage()},1e3)},reloadPage:function(){console.log("inside reloadPage function"),console.log(location),location.reload()}},mounted:function(){this.getUserData(),this.getRadioData(),this.emitLoggedInMethod()}},f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticClass:"gethelp",class:{hovering:e.isHovering},on:{mouseover:function(t){e.isHovering=!0},mouseout:function(t){e.isHovering=!1}}},[e._v("\n        "+e._s(e.isHovering?"Skip the current song, by clicking the 'No¶' button. The song will be added to your No¶-List and therefore skipped everytime it is played on the radio. If you open the app on a desktop device, you can also select the mode here -'alternativePlaylist Mode' will make the app switch to a random track from your playlist, whenever a No¶ title is detected, 'alternativeChannel Mode' will make it switch to another channel instead. -'MainChannel' defines the channel you will be listening to. -'AlternativeChannel' defines the channel that will be switched to (if you chose 'alternativeChannel Mode'), if a No¶ title is detected on your main channel.":"Help")+"\n    ")]),e._v(" "),n("div",{staticClass:"hideonmobile"},[n("h2",{staticClass:"profileheader"},[e._v("Profile")]),e._v(" "),n("div",{staticClass:"profilecontainer"},[n("div",[e._v("Username: "+e._s(e.user.username)+" ")]),e._v(" "),n("div",[e._v("Email: "+e._s(e.user.email)+" "),n("button",{staticClass:"editbutton",on:{click:function(t){e.showeditemail=!0}}},[e._v("Edit")]),e._v(" "),e.showeditemail?n("div",[n("label",[e._v("New Email")]),e._v(" "),n("form",{on:{submit:e.editEmail}},[n("input",{attrs:{type:"text",name:"email"}}),n("br"),e._v(" "),n("input",{attrs:{type:"submit",value:"Change EMail"}})])]):e._e()]),e._v(" "),n("div",[e._v("Mode: "+e._s(e.user.mode)+" "),n("button",{staticClass:"editbutton",on:{click:function(t){e.showeditmode=!0}}},[e._v("Edit")]),e._v(" "),e.showeditmode?n("div",[n("label",[e._v("Select Mode")]),e._v(" "),n("form",{staticClass:"profileform",on:{submit:e.editMode}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.user.mode,expression:"user.mode"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.user,"mode",t.target.multiple?n:n[0])}}},e._l(e.modes,function(t){return n("option",{key:t.id},[e._v(e._s(t))])}),0),e._v(" "),n("input",{attrs:{type:"submit",value:"save"}})])]):e._e()]),e._v(" "),n("div",[e._v("MainChannel: "+e._s(e.user.channel.radioname)+" "),n("button",{staticClass:"editbutton",on:{click:function(t){e.showeditmainchannel=!0}}},[e._v("Edit")]),e._v(" "),e.showeditmainchannel?n("div",[n("label",[e._v("Search By Country")]),e._v(" "),n("form",{staticClass:"profileform",on:{submit:e.filteredChannels}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedcountry,expression:"selectedcountry"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedcountry=t.target.multiple?n:n[0]}}},e._l(e.countrylist,function(t){return n("option",{key:t.id},[e._v(e._s(t))])}),0),e._v(" "),n("input",{attrs:{type:"submit",value:"filter"}})]),e._v(" "),e._l(e.filteredchannels,function(t){return n("li",{staticClass:"radiochannelitem",on:{click:function(n){return e.selectChannel(n,t)}}},[n("a",[e._v(e._s(t))])])})],2):e._e()]),e._v(" "),n("div",[e._v("AlternativeChannel: "+e._s(e.user.alternativechannel.radioname)+" "),n("button",{staticClass:"editbutton",on:{click:function(t){e.showeditalternativechannel=!0}}},[e._v("Edit")]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showeditalternativechannel,expression:"showeditalternativechannel"}]},[n("label",[e._v("Search By Country")]),e._v(" "),n("form",{staticClass:"profileform",on:{submit:e.filteredAlternativeChannels}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedcountryalternative,expression:"selectedcountryalternative"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedcountryalternative=t.target.multiple?n:n[0]}}},e._l(e.countrylist,function(t){return n("option",{key:t.id},[e._v(e._s(t))])}),0),e._v(" "),n("input",{attrs:{type:"submit",value:"filter"}})]),e._v(" "),e._l(e.filteredalternativechannels,function(t){return n("li",{staticClass:"radiochannelitem",on:{click:function(n){return e.selectAlternativeChannel(n,t)}}},[n("a",[e._v(e._s(t))])])})],2)])])])])},staticRenderFns:[]};var g=n("VU/8")(p,f,!1,function(e){n("BR/g")},null,null).exports,_={name:"Shmoo",data:function(){return{user:{id:"",username:"",shmoo:[]},selectedShmoo:"",search:"",isHovering:!1}},methods:{emitLoggedInMethod:function(){setTimeout(function(){console.log("emit method"),d.$emit("logged-in","loggedin")},1e3)},getUserData:function(){var e=this,t=this;s.a.get("/api/user").then(function(n){console.log(n),t.$set(e,"user",n.data.user)}).catch(function(e){console.log(e),I.push("/login")})},selectShmooElement:function(e,t){this.selectedShmoo=t,this.removeShmoo()},removeShmoo:function(){var e,t=this.selectedShmoo;e={elementToBeRemovedFromShmoo:t},s.a.post("/api/shmoo",e).then(function(e){console.log("shmoo element removed")}).catch(function(e){console.log("cannot remove shmoo element")}),window.location.reload()}},computed:{filteredShmoo:function(){var e=this;return this.user.shmoo.filter(function(t){return t.toLowerCase().match(e.search.toLowerCase())})}},mounted:function(){var e=this;this.getUserData(),this.emitLoggedInMethod(),d.$on("loadUserData",function(){e.getUserData(),console.log("hallo eventbus")})}},y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticClass:"gethelp",class:{hovering:e.isHovering},on:{mouseover:function(t){e.isHovering=!0},mouseout:function(t){e.isHovering=!1}}},[e._v("\n        "+e._s(e.isHovering?"All the songs you disliked so far are listed here. You dont have to hear any of them ever again. In case you changed your taste (or if your brother used your account and made a mess of it), you can bring them back in the game by removing from this list":"Help")+"\n    ")]),e._v(" "),n("div",{staticClass:"hideonmobile"},[n("h2",{staticClass:"shmooheader"},[e._v("No¶-List")]),e._v(" "),n("ul",{staticClass:"shmooul"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{id:"searchshmoo",type:"text",placeholder:"search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),e._l(e.filteredShmoo,function(t,o){return n("li",{key:t.id,staticClass:"shmoolistitem",on:{click:function(n){return e.selectShmooElement(n,t)}}},[n("a",[e._v(e._s(o)+" - "+e._s(t))]),e._v(" "),n("a",{attrs:{id:"deleteitem"}},[e._v("delete")])])})],2),e._v(" "),n("br")])])},staticRenderFns:[]};var C=n("VU/8")(_,y,!1,function(e){n("uhuM")},null,null).exports,b={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h2",{staticClass:"forumheader"},[e._v("Forum")]),e._v(" "),n("p",[e._v("ShmooFM is currently using 3rd party provider Xobor to run the forum. To visit the ShmooFM forum click here: "),n("a",{attrs:{href:"http://shmoofm.xobor.de"}},[e._v("http://shmoofm.xobor.de")]),e._v(".")]),e._v(" "),n("p",[e._v("To report a bug please write to dev@shmoofm.com.")]),e._v(" "),n("p",[e._v("If you have an idea for a new feature please discuss in the forum in the 'new features' section.")]),e._v(" "),n("p",[e._v("If you like to contact us concerning any other topic, please write to info@shmoofm.com.")])])}]};var w=n("VU/8")({name:"Forum"},b,!1,function(e){n("v1Y+")},null,null).exports,k={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h2",{staticClass:"homeheader"},[this._v("Home")]),this._v(" "),t("p",[this._v("Welcome to ShmooFM")]),this._v(" "),t("p",{staticClass:"hideondesktop"},[this._v("Please note, that the mobile version currently only supports basic functionalities and usage, i.e. login, listening and No¶. For registration and account setup use the desktop version.")]),this._v(" "),t("br")])}]};var E=n("VU/8")({name:"Home"},k,!1,function(e){n("lgeo")},null,null).exports,A=n("Xxa5"),P=n.n(A),F=n("exGp"),M=n.n(F),N={name:"Playlist",data:function(){return{user:{id:"",username:"",mode:"",privateplaylist:[]},selectedplaylistitem:"",search:"",isHovering:!1,file:"",message:"",error:!1,fileselected:!1}},methods:{emitLoggedInMethod:function(){setTimeout(function(){console.log("emit method"),d.$emit("logged-in","loggedin")},1e3)},getUserData:function(){var e=this,t=this;s.a.get("/api/user").then(function(n){console.log(n),t.$set(e,"user",n.data.user)}).catch(function(e){console.log(e),I.push("/login")})},selectFile:function(){var e=this.$refs.file.files[0],t=e.size>2e7;["audio/mpeg","audio/mp3"].includes(e.type)&&!t?(this.file=e,this.error=!1,this.message="",this.fileselected=!0):(this.file=e,this.error=!0,this.message=t?"File is too big. Max size: 20MB":"Only Mp3 allowed")},sendFile:function(){var e=this;return M()(P.a.mark(function t(){var n,o;return P.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,(o=new FormData).append("file",e.file),t.prev=3,t.next=6,s.a.post("/api/fileupload",o);case 6:e.message="File has been uploaded",e.file="",e.error=!1,n.reload(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),e.message=t.t0.response.data.error,e.error=!0;case 16:case"end":return t.stop()}},t,e,[[3,12]])}))()},playlistItemClicked:function(e,t){this.selectedplaylistitem=t,this.deleteprivateplaylistitem()},deleteprivateplaylistitem:function(){var e,t=this.selectedplaylistitem;e={privatePlaylistItem:t},s.a.post("/api/deleteprivateplaylistitem",e).then(function(e){console.log("privateplaylistitem deleted")}).catch(function(e){console.log("cannot delete privateplaylistitem")}),this.reload()},reload:function(){setTimeout(function(){window.location.reload()},1e3)}},mounted:function(){this.getUserData(),this.emitLoggedInMethod()}},x={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticClass:"gethelp",class:{hovering:e.isHovering},on:{mouseover:function(t){e.isHovering=!0},mouseout:function(t){e.isHovering=!1}}},[e._v("\n        "+e._s(e.isHovering?"If you run the app in 'alternativePlaylist Mode' it will switch to a random track from your playlist, whenever shmoo is detected.":"Help")+"\n    ")]),e._v(" "),n("div",[n("h2",{staticClass:"privateplaylistheader"},[e._v("Playlist")]),e._v(" "),n("p",[e._v("You can upload up to 10 tracks to your playlist.")]),e._v(" "),n("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.sendFile(t)}}},[n("div",[n("label",{attrs:{for:"file"}},[e._v("Upload File")]),e._v(" "),n("input",{ref:"file",staticClass:"selectfile",attrs:{type:"file"},on:{change:e.selectFile}})]),e._v(" "),n("div",[this.user.privateplaylist.length<10&&1==this.fileselected?n("button",{staticClass:"sendfilebutton"},[e._v("Upload")]):e._e()]),e._v(" "),e.message?n("div",{staticClass:"messageclass"},[e._v(e._s(e.message))]):e._e()])]),e._v(" "),n("br"),e._v(" "),n("div",[n("ul",{staticClass:"playlistul"},e._l(e.user.privateplaylist,function(t){return n("li",{key:t.id,staticClass:"playlistitem",on:{click:function(n){return e.playlistItemClicked(n,t)}}},[n("a",[e._v(e._s(t))]),e._v(" "),n("a",{attrs:{id:"deleteitem"}},[e._v("delete")])])}),0)])])},staticRenderFns:[]};var T=n("VU/8")(N,x,!1,function(e){n("uBHy")},null,null).exports;o.a.use(a.a);var I=new a.a({routes:[{path:"/",name:"Home",component:E},{path:"/register",name:"Register",component:c},{path:"/login",name:"Login",component:v},{path:"/profile",name:"Profile",component:g},{path:"/shmoo",name:"Shmoo",component:C},{path:"/forum",name:"Forum",component:w},{path:"/playlist",name:"Playlist",component:T}]}),R={data:function(){return{auth:""}},methods:{logout:function(){s.a.get("/api/logout"),this.emitLoggedOutMethod(),I.push("/login"),console.log("logged out")},emitLoggedOutMethod:function(){console.log("emit method"),d.$emit("logged-in","")}},mounted:function(){var e=this;d.$on("logged-in",function(t){e.auth=t,console.log("hallo eventbus")})}},S={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",{staticClass:"navul"},["loggedin"==e.auth?n("li",{staticClass:"navlogout",on:{click:e.logout}},[n("router-link",{staticClass:"navlogoutitem",attrs:{to:"/login"}},[e._v("Logout")])],1):e._e(),e._v(" "),""==e.auth?n("li",{staticClass:"navli"},[n("router-link",{staticClass:"navitem hideonmobile",attrs:{to:"/register"}},[e._v("Register")])],1):e._e(),e._v(" "),""==e.auth?n("li",{staticClass:"navli"},[n("router-link",{staticClass:"navitem",attrs:{to:"/login"}},[e._v("Login")])],1):e._e(),e._v(" "),"loggedin"==e.auth?n("li",{staticClass:"navli"},[n("router-link",{staticClass:"navitem hideonmobile",attrs:{to:"/profile"}},[e._v("Profile")])],1):e._e(),e._v(" "),"loggedin"==e.auth?n("li",{staticClass:"navli"},[n("router-link",{staticClass:"navitem hideonmobile",attrs:{to:"/shmoo"}},[e._v("No¶-List")])],1):e._e(),e._v(" "),"loggedin"==e.auth?n("li",{staticClass:"navli"},[n("router-link",{staticClass:"navitem hideonmobile",attrs:{to:"/playlist"}},[e._v("Playlist")])],1):e._e(),e._v(" "),n("li",{staticClass:"navli"},[n("router-link",{staticClass:"navforum",attrs:{to:"/forum"}},[e._v("Forum")])],1)])])},staticRenderFns:[]};var U=n("VU/8")(R,S,!1,function(e){n("62wq")},null,null).exports,L={name:"Player",data:function(){return{user:{id:"",username:"",email:"",password:"",mode:"",channel:{radioname:"unselected",radiourl:""},alternativechannel:{radioname:"unselected",radiourl:""},shmoo:["",""],privateplaylist:[]},currentsong:"not found",currentupdate:0,lastupdate:0,securecontent:[],showcommentsection:!1,comments:["blabla","bam oida"],yourcomment:"",checked:!1}},methods:{emitLoadUserDataOnOtherComponents:function(){d.$emit("loadUserData")},getUserData:function(){var e=this,t=this;s.a.get("/api/user").then(function(n){console.log(n),t.$set(e,"user",n.data.user)}).catch(function(e){console.log(e),I.push("/login")})},getNowPlayingMetaDataDirectlyFromFrontend:function(){var e=M()(P.a.mark(function e(){var t,n,o;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.user.channel.radioname,n=this.user.channel.nowplayingurl,e.prev=2,e.next=5,s.a.get(n);case 5:o=e.sent,this.currentsong="88.6"==t?o.data.data[3].title+" - "+o.data.data[3].name:"Rockovyradio (CZE)"==t?o.data.current.song+" - "+o.data.current.interpret:"Triple J (AUS)"==t?o.data.now.recording.title+" - "+o.data.now.recording.artists[0].name:"TSF Jazz (FRA)"==t?o.data.title+" - "+o.data.artist:"Radio2.0 Bergamo (ITA)"==t?o.data:"Ö3"==t?o.data[0].items[20].title+" - "+o.data[0].items[20].interpreter:"Radio Wien"==t?o.data[0].items[12].title+" - "+o.data[0].items[12].interpreter:"nixe dada",e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}},e,this,[[2,9]])}));return function(){return e.apply(this,arguments)}}(),getSecureContent:function(){var e=this,t=this;s.a.get("/api/securecontent").then(function(n){t.$set(e,"securecontent",n.data.secureContent),e.securecontent=n.data.secureContent}).catch(function(e){console.log(e),I.push("/login")})},getComments:function(){var e=this,t=this;s.a.get("/api/getcomments").then(function(n){t.$set(e,"comments",n.data.comments),e.comments=n.data.comments}).catch(function(e){console.log(e),I.push("/login")})},postComment:function(){var e,t=this.user.channel.radioname,n=this.user.username,o=this.yourcomment;e={channelToComment:t,userWhoComments:n,newComment:o},s.a.post("api/postcomment",e).then(function(t){console.log(e)}).catch(function(e){console.log("Cannot post comment")}),this.yourcomment=""},setPrimaryChannelSRC:function(){var e=this;setTimeout(function(){console.log(e.user.channel.radiourl),document.getElementById("primaryradiostream").src=e.user.channel.radiourl},2e3)},setAlternativeChannelSRC:function(){var e=this;setTimeout(function(){console.log(e.user.alternativechannel.radiourl),document.getElementById("alternativeradiostream").src=e.user.alternativechannel.radiourl},2e3)},playFunction:function(){var e=document.getElementById("primaryradiostream");console.log("playfunction"),e.play()},muteFunction:function(){var e=document.getElementById("primaryradiostream"),t=document.getElementById("alternativeradiostream"),n=document.getElementById("playliststream");e.volume=0,t.volume=0,n.volume=0},unmuteFunction:function(){var e=document.getElementById("primaryradiostream"),t=document.getElementById("alternativeradiostream"),n=document.getElementById("playliststream");e.volume=1,t.volume=1,n.volume=1},updateCheck:function(){this.currentupdate<this.lastupdate&&("alternativeChannel"==this.user.mode?this.reloadPage():console.log("alternativePlaylistMode: no switch now"))},playerEndedCheck:function(){1==document.getElementById("playliststream").ended&&this.reloadPage()},setCurrentUpdateEqualToLastUpdate:function(){this.lastupdate=this.currentupdate},lolFunction:function(){var e=this,t=this;if("not found"==this.currentsong)alert("Shmoo can't be saved. You've been too fast. Try again in 3,2,1. Go!");else{var n,o=0;for(n=0;n<t.securecontent.length;n++)t.securecontent[n]==t.currentsong&&o++;if(console.log(o),o>0)console.log("aaaaaachtung"),alert("you cant NO¶ secured content!");else{!function(){console.log("lololol");var t={currentSong:e.currentsong};s.a.post("/api/lol",t).then(function(e){console.log("NO¶ submitted")}).catch(function(e){console.log("cannot submit NO¶")})}(),"alternativeChannel"==t.user.mode?this.switchToAlternativeChannel():this.switchToAlternativePlaylist(),setTimeout(function(){t.emitLoadUserDataOnOtherComponents(),t.getUserData()},1e3)}}},shmooAlarm:function(){var e=this,t=function(){var t,n=0;for(t=0;t<e.user.shmoo.length;t++){if(e.currentsong==e.user.shmoo[t])n++,e.currentupdate=n;else;0!==n?(e.currentupdate=n,e.delaySwitch()):e.currentupdate=0}};t()},delaySwitch:function(){var e=this;setTimeout(function(){"alternativePlaylist"==e.user.mode?e.switchToAlternativePlaylist():e.switchToAlternativeChannel()},6e3)},switchToAlternativePlaylist:function(){document.getElementById("primaryradiostream").pause();var e=this.user.privatefilenames,t=document.getElementById("playliststream");if(1==t.paused){e=function(e){for(var t,n,o=e.length;0!==o;)n=Math.floor(Math.random()*o),t=e[o-=1],e[o]=e[n],e[n]=t;return e}(e),console.log(e[0]),console.log(t.src);var n="http://46.101.174.202/"+e[0];t.src=n,console.log(t.src),t.play()}},switchToAlternativeChannel:function(){var e,t;e=document.getElementById("primaryradiostream"),t=document.getElementById("alternativeradiostream"),e.pause(),t.play()},reloadPage:function(){console.log("inside reloadPage function"),console.log(location),location.reload()},alertCheck:function(){var e=this;setTimeout(function(){console.log("inside alertcheck"),e.selectChannelAlert(),e.selectAlternativeChannelAlert(),e.primaryEqualsAlternativeAlert()},5e3)},selectChannelAlert:function(){"unselected"==this.user.channel.radioname&&alert("New Here? Select a Radio CHANNEL first of all!")},selectAlternativeChannelAlert:function(){"unselected"==this.user.alternativechannel.radioname&&"alternativeChannel"==this.user.mode&&"unselected"!==this.user.channel.radioname&&(alert("... aaand an ALTERNATIVE CHANNEL or change to Alternative Playlist Mode and add your playlist! - Na, choose an alternative channel anyway."),document.getElementById("primaryradiostream").pause())},primaryEqualsAlternativeAlert:function(){this.user.channel.radioname==this.user.alternativechannel.radioname&&"alternativeChannel"==this.user.mode&&"unselected"!==this.user.channel.radioname&&(alert("Channel and Alternative Channel should not be the same in Alternative Channel Mode! Change one of them! Now!"),document.getElementById("primaryradiostream").pause())},update:function(){var e=this;setTimeout(function(){e.playFunction()},3e3),setInterval(function(){e.getNowPlayingMetaDataDirectlyFromFrontend(),e.updateCheck(),e.setCurrentUpdateEqualToLastUpdate(),e.shmooAlarm(),e.playerEndedCheck(),e.getComments()},2e3)}},mounted:function(){this.getUserData(),this.getSecureContent(),this.setPrimaryChannelSRC(),this.setAlternativeChannelSRC(),this.update(),this.alertCheck()}},$={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"playercomponentcontainer"},[n("button",{staticClass:"playbutton",on:{click:e.playFunction}},[e._v("Play >")]),e._v(" "),n("button",{staticClass:"mutebutton",on:{click:e.muteFunction}},[e._v("Mute")]),e._v(" "),n("button",{staticClass:"unmutebutton",on:{click:e.unmuteFunction}},[e._v("Unmute")]),e._v(" "),n("br",{staticClass:"hideonmobile"}),e._v(" "),n("br"),e._v(" "),n("button",{staticClass:"lolbutton",attrs:{id:"LolButton"},on:{click:e.lolFunction}},[e._v("No¶")]),e._v(" "),n("div",[n("br"),e._v(" "),n("br",{staticClass:"hideondesktop"}),e._v(" "),n("br",{staticClass:"hideondesktop"}),e._v(" "),n("br",{staticClass:"hideondesktop"}),e._v(" "),n("br",{staticClass:"hideondesktop"}),e._v(" "),n("br",{staticClass:"hideondesktop"}),e._v(" "),n("div",{staticClass:"nowplayingdiv"},[e._v("Now playing on Main Channel:")]),e._v(" "),n("br"),e._v(" "),n("div",{staticClass:"nowplayingtitle"},[e._v(e._s(e.currentsong))]),e._v(" "),n("br"),e._v(" "),n("br"),e._v(" "),n("div",{staticClass:"nowplayingdiv"},[e._v(e._s(e.user.channel.radioname))]),e._v(" "),n("br"),e._v(" "),n("br")]),e._v(" "),n("div",[!1===e.showcommentsection?n("button",{staticClass:"editbutton",on:{click:function(t){e.showcommentsection=!0}}},[e._v("Show Comments")]):e._e(),e._v(" "),e.showcommentsection?n("button",{staticClass:"editbutton",on:{click:function(t){e.showcommentsection=!1}}},[e._v("Hide Comments")]):e._e(),e._v(" "),e.showcommentsection?n("div",[n("br"),e._v(" "),n("form",{on:{submit:e.postComment}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.yourcomment,expression:"yourcomment"}],staticClass:"commentfield",attrs:{id:"newcomment",type:"text",placeholder:"write a comment"},domProps:{value:e.yourcomment},on:{input:function(t){t.target.composing||(e.yourcomment=t.target.value)}}}),e._v(" "),n("br"),e._v(" "),n("input",{attrs:{type:"submit",value:"Send Comment"}})]),e._v(" "),n("ul",{staticClass:"commentsoutputbox"},e._l(e.comments,function(t){return n("li",{key:t.id,staticClass:"commentitem"},[n("a",[e._v(e._s(t))])])}),0)]):e._e(),e._v(" "),n("br"),e._v(" "),n("br"),e._v(" "),n("br"),e._v(" "),n("br")]),e._v(" "),n("div",{staticClass:"hide"},[n("p",[e._v("Primary Radio Stream ( "+e._s(e.user.channel.radioname)+" )")]),e._v(" "),n("audio",{attrs:{width:"300",height:"48",controls:"controls",id:"primaryradiostream"}},[e._v('type="audio/mpeg"/>Your browser does not support HTML5 audio. Please update your browser to view this media content.')])]),e._v(" "),n("div",{staticClass:"hide"},[n("p",[e._v("Alternative Radio Stream ( "+e._s(e.user.alternativechannel.radioname)+" )")]),e._v(" "),n("audio",{attrs:{width:"300",height:"48",controls:"controls",id:"alternativeradiostream"}},[e._v('type="audio/mpeg"/>Your browser does not support HTML5 audio. Please update your browser to view this media content.')])]),e._v(" "),e._m(0),e._v(" "),n("br"),e._v(" "),n("br")])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hide"},[t("p",[this._v("Playlist Player")]),this._v(" "),t("audio",{attrs:{id:"playliststream",tabindex:"0",controls:"",type:"audio/mpeg"}})])}]};var H={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("p",{staticClass:"copyright"},[this._v("Copyright Edwin Pree, 2019")])])}]};var B={name:"App",components:{Navbar:U,Player:n("VU/8")(L,$,!1,function(e){n("4zPY")},null,null).exports,Copyright:n("VU/8")({name:"Copyright"},H,!1,function(e){n("a9VR")},null,null).exports},data:function(){return{auth:""}},mounted:function(){var e=this;d.$on("logged-in",function(t){e.auth=t,console.log("hallo eventbus")})}},D={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Navbar",{staticClass:"navcontainer"}),e._v(" "),n("router-view"),e._v(" "),n("br"),e._v(" "),n("br"),e._v(" "),n("hr",{staticClass:"hideonmobile"}),e._v(" "),"loggedin"==e.auth?n("Player"):e._e(),e._v(" "),n("Copyright")],1)},staticRenderFns:[]};var V=n("VU/8")(B,D,!1,function(e){n("y4CI")},null,null).exports;o.a.config.productionTip=!1,new o.a({el:"#app",router:I,components:{App:V},template:"<App/>"})},Qdwh:function(e,t){},a9VR:function(e,t){},lgeo:function(e,t){},uBHy:function(e,t){},uhuM:function(e,t){},"v1Y+":function(e,t){},y4CI:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a50a8614a92858d7cf67.js.map